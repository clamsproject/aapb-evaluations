# ASR Evalutation Report -- Whisper `base`

### App:
1. [whisper-wrapper `v3`](https://github.com/clamsproject/app-whisper-wrapper) is used to generated the preds MMIF files from 20 videos. For this evaluation, MMIF files are generated through whisper `base` model. 
2. Preds MMIF files can be found [here](https://github.com/clamsproject/aapb-evaluations/tree/2-asr-eval/asr_eval/preds%40whisper-wrapper-base%40aapb-collaboration-21).
* **Note**: 4 out of the 20 videos were not transcribed properly, therefore the total number of valid evaluation generated is **16**.

### Evaluation code: 
The evaluation code can be found [here](https://github.com/clamsproject/aapb-evaluations/tree/2-asr-eval/asr_eval).

### Evaluation metric: 
WER (World Error Rate) is used as the evaluation metric that is implemented by the above mentioned evaluation code. WER calculates the accuracy of Automatic Speech Recognition (ASR) on the word level. To get a WER, the number of errors is divided by the number of total words spoken. In other words, WER tells "how wrong" the predicted result can be. Therefore, a smaller WER indicates a better performance. More information can be found [here](https://en.wikipedia.org/wiki/Word_error_rate).
`TorchMetrics` has a [WER module](https://torchmetrics.readthedocs.io/en/stable/text/word_error_rate.html) and is used in our evaluation code.

### Evaluation dataset: 
Gold standard annotations are located [here](https://github.com/clamsproject/aapb-collaboration/tree/21-undocumented-changes/21), with file name starting with the corresponding video IDs.

### Evaluation results: 
WER results are located [here](https://github.com/clamsproject/aapb-evaluations/tree/2-asr-eval/asr_eval/wer_base_results). Each of the 16 videos has their WER stored in a .json file.
We evaluate MMIF files under 2 conditions:
>1. **Case-sensitive**: Upper case and lower case are treated differently, e.g. Apple â‰  apple. 
>2. **Non case-sensitive**: The transcripts from both gold and preds are converted into upper case, therefore making case insignificant, e.g. APPLE = APPLE.
These 2 conditions generate 2 different WERs. Each .json files contains both numbers, with a notation referring the casing.

#### A brief summary:
1. The lowest WER we get is **0.14483363926410675**, from `cpb-aacip-507-r785h7cp0z`, non case-sensitive.
2. The highest WER is **0.3255138099193573**, from `cpb-aacip-507-n29p26qt59`, case-sensitive. 
3. When ignoring the case, **ALL** of the WERs become slighly lower, indicating a higher accuracy. This is also observed from [`tiny` model evaluation](https://github.com/clamsproject/aapb-evaluations/blob/2-asr-eval/asr_eval/report-20230725-preds%40whisper-wrapper-tiny%40aapb-collaboration-21.md).
4. The avarage WER among 16 MMIF files are:
   
    | Case-sensitive   | Non case-sensitive|
    | -----------      | -----------       |
    | 0.224915726110339| 0.203247848898172 |
5. Outliers found in predictions generated by `tiny` are not found in `base`. 

### Evaluation limitation: 
1. A considerable number of useless strings are found in all of the gold files. These files include titles such as `INFO`, `News Summary` as well as each speaker's name along with every utterance. These are useful information for readers, but are, in reality, non-existent in the actual speech. This significantly affects the evaluation **negatively**. Some processing needs to be done on gold files.
2. On the other hand, some of the gold files are missing preview or summary content in the video, while whisper preserves this information. This disprepancy also has a negative impact on evaluation results. 
3. Comparing to `tiny`, `base` model demonstrates a more balanced result, and gives a better accuracy overall. A bigger model might further improve the performance.
